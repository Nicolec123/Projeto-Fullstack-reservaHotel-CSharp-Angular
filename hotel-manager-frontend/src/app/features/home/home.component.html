<div class="home-page">
  <section class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1>{{ hotel.nome }}</h1>
      <p class="slogan">{{ hotel.slogan }}</p>
      <app-search-bar></app-search-bar>
    </div>
  </section>

  <!-- Avalia√ß√µes dos clientes - carrossel -->
  <section class="reviews-section">
    <h2>O que nossos clientes dizem</h2>
    <p class="reviews-subtitle">Avalia√ß√µes reais de quem j√° se hospedou conosco</p>
    <div class="carousel-wrapper">
      <div class="carousel-track">
        @for (r of reviews; track r.nome + r.data) {
          <div class="review-card">
            <div class="review-stars">
              @for (star of [1,2,3,4,5]; track star) {
                <span class="star" [class.filled]="star <= r.nota">‚òÖ</span>
              }
            </div>
            <p class="review-text">"{{ r.texto }}"</p>
            <div class="review-author">
              <img [src]="r.avatarUrl" [alt]="r.nome" class="review-avatar" />
              <div>
                <strong>{{ r.nome }}</strong>
                <span class="review-date">{{ r.data }}</span>
              </div>
            </div>
          </div>
        }
      </div>
    </div>
  </section>

  <section class="destaques">
    <div class="destaques-header">
      <h2>Por que nos escolher</h2>
      <p class="destaques-subtitle">Uma experi√™ncia completa de hospitalidade e bem-estar</p>
    </div>
    <div class="destaques-grid">
      @for (item of hotel.destaque; track item) {
        <div class="destaque-item">
          <span class="check">‚úì</span>
          <span>{{ item }}</span>
        </div>
      }
    </div>
  </section>

  <!-- Pilares do Spa -->
  <section class="spa-pillars-section">
    <div class="pillars-header">
      <h2>Tratamentos exclusivos focados em 3 pilares</h2>
      <p class="pillars-subtitle">Um verdadeiro ref√∫gio urbano dedicado √† sa√∫de e ao bem-estar. Terapeutas experientes proporcionam experi√™ncias multi-sensoriais com ampla variedade de massagens e tratamentos.</p>
    </div>
    <div class="pillars-grid">
      @for (pillar of spaPillars; track pillar.id) {
        <div class="pillar-card" [style.--pillar-color]="pillar.cor" (click)="openModal(pillar)">
          <div class="pillar-image">
            <img [src]="pillar.imagem" [alt]="pillar.nome" />
          </div>
          <div class="pillar-icon">{{ pillar.icone }}</div>
          <h3>{{ pillar.nome }}</h3>
          <p class="pillar-desc">{{ pillar.descricao }}</p>
          <ul class="pillar-tratamentos">
            @for (tratamento of pillar.tratamentos; track tratamento.nome) {
              <li>{{ tratamento.nome }}</li>
            }
          </ul>
        </div>
      }
    </div>
  </section>

  <!-- Modal de Detalhes -->
  @if (isModalOpen && selectedPillar) {
    <div class="modal-overlay" (click)="closeModal()">
      <div class="modal-content" (click)="$event.stopPropagation()">
        <button class="modal-close" (click)="closeModal()" aria-label="Fechar">√ó</button>
        <div class="modal-header">
          <div class="modal-icon">{{ selectedPillar.icone }}</div>
          <h2>{{ selectedPillar.nome }}</h2>
          <p class="modal-subtitle">{{ selectedPillar.descricao }}</p>
        </div>
        <div class="modal-image">
          <img [src]="selectedPillar.imagem" [alt]="selectedPillar.nome" />
        </div>
        <div class="modal-tratamentos">
          <h3>Tratamentos Dispon√≠veis</h3>
          @for (tratamento of selectedPillar.tratamentos; track tratamento.nome) {
            <div class="tratamento-item">
              <h4>{{ tratamento.nome }}</h4>
              <p>{{ tratamento.descricao }}</p>
            </div>
          }
        </div>
      </div>
    </div>
  }

  <!-- Hotel & Spa - pacotes e avalia√ß√µes -->
  <section class="spa-section">
    <h2>Hotel &amp; Spa</h2>
    <p class="spa-intro">Combine hospedagem com bem-estar. Nossos pacotes incluem quarto e experi√™ncias no spa com massagens, sauna e piscina t√©rmica. O ambiente aconchegante foi feito para acalmar o corpo e a mente, com √°rea externa de relaxamento com ofur√¥s, ducha e um deck com espregui√ßadeiras.</p>
    <div class="spa-packages">
      @for (pkg of spaPackages; track pkg.id) {
        <div 
          class="spa-package-card"
          role="button"
          tabindex="0"
          (click)="verDetalhesPacotePromocional(pkg.id)"
        >
          <div class="spa-package-image">
            <img [src]="pkg.imagem" [alt]="pkg.titulo" />
            <span class="spa-package-badge">{{ pkg.duracao }}</span>
          </div>
          <div class="spa-package-body">
            <h3>{{ pkg.titulo }}</h3>
            <p class="spa-package-desc">{{ pkg.descricao }}</p>
            <ul>
              @for (item of pkg.itens; track item) {
                <li>{{ item }}</li>
              }
            </ul>
            <p class="spa-package-price">{{ pkg.precoDesde }}</p>
          </div>
        </div>
      }
    </div>
    <div class="spa-reviews">
      <h3>Avalia√ß√µes do Spa</h3>
      <div class="spa-reviews-grid">
        @for (sr of spaReviews; track sr.nome) {
          <div class="spa-review-card">
            <div class="spa-review-stars">
              @for (star of [1,2,3,4,5]; track star) {
                <span class="star" [class.filled]="star <= sr.nota">‚òÖ</span>
              }
            </div>
            <p>"{{ sr.texto }}"</p>
            <div class="spa-review-author">
              <img [src]="sr.avatarUrl" [alt]="sr.nome" />
              <span><strong>{{ sr.nome }}</strong> ¬∑ {{ sr.data }}</span>
            </div>
          </div>
        }
      </div>
    </div>
  </section>

  <!-- Pacotes de Spa Standalone -->
  <section class="spa-booking-section">
    <div class="spa-booking-header">
      <h2>Pacotes de Spa</h2>
      <p class="spa-booking-subtitle">Experi√™ncias completas de bem-estar para todos os momentos</p>
    </div>
    <div class="spa-booking-grid">
      @for (pkg of spaBookingPackages; track pkg.id) {
        <div class="spa-booking-card" [class.popular]="pkg.popular">
          @if (pkg.popular) {
            <div class="popular-badge">Mais Popular</div>
          }
          <div class="spa-booking-image">
            <img [src]="pkg.imagem" [alt]="pkg.nome" />
          </div>
          <div class="spa-booking-content">
            <h3>{{ pkg.nome }}</h3>
            <p class="spa-booking-desc">{{ pkg.descricao }}</p>
            <div class="spa-booking-details">
              <span>‚è±Ô∏è {{ pkg.duracao }}</span>
              <span>üë• {{ pkg.pessoasIncluidas }} pessoa{{ pkg.pessoasIncluidas > 1 ? 's' : '' }}</span>
            </div>
            <ul class="spa-booking-items">
              @for (item of pkg.itensInclusos.slice(0, 3); track item) {
                <li>{{ item }}</li>
              }
            </ul>
            <div class="spa-booking-price">
              <span class="price-from">A partir de</span>
              <span class="price-value">{{ formatarPreco(pkg.precoBase) }}</span>
              @if (pkg.tipo === 'familia' && pkg.precoPorPessoaExtra) {
                <span class="price-extra">+ {{ formatarPreco(pkg.precoPorPessoaExtra) }} por pessoa extra</span>
              }
            </div>
            <button type="button" class="btn-spa-booking" (click)="agendarSpa(pkg.id)">
              Agendar Agora
            </button>
          </div>
        </div>
      }
    </div>
    <div class="spa-booking-cta">
      <button type="button" class="btn-spa-view-all" (click)="agendarSpa()">
        Ver Todos os Pacotes
      </button>
    </div>
  </section>

  <section class="cta-section">
    <h2>Pronto para sua pr√≥xima estadia?</h2>
    <p>Conhe√ßa nossos quartos e fa√ßa sua reserva com facilidade.</p>
    <a routerLink="/quartos" class="btn-cta">Ver quartos dispon√≠veis</a>
  </section>
</div>
